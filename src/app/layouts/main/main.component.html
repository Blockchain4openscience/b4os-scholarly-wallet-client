<mat-sidenav-container class="sidenav-container all-wrap">
  <mat-sidenav #drawer class="sidenav" fixedInViewport
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'">
    <mat-toolbar>Menu</mat-toolbar>
    <mat-nav-list>
      <a mat-list-item href="#">Link 1</a>
      <a mat-list-item href="#">Link 2</a>
      <a mat-list-item href="#">Link 3</a>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content class="page-wrap">
    <mat-toolbar class="dark" color='primary'>
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        *ngIf="isHandset$ | async">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <img src='/assets/img/logo.png' class='logo'>
      <span class="app-title">Scholarly Wallet</span>
      <span class="bar-spacer"></span>
      <a *ngIf="!isLoggedIn" mat-button href="https://orcid.org/oauth/authorize?client_id=APP-NNXW1QUFSJRHMC0C&response_type=code&scope=/authenticate&redirect_uri=http://localhost:4200/main/login"><img alt="ORCID logo" src="/assets/img/orcid_icon.png" width="24" height="24" hspace="4" />LOGIN WITH ORCID</a>
      <button *ngIf="isLoggedIn" mat-button [matMenuTriggerFor]="menu"><mat-icon>perm_identity</mat-icon><span *ngIf="!(isHandset$ | async)">&nbsp;{{user.name}}</span></button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item>
          <mat-icon>account_box</mat-icon>
          <span>Edit profile</span>
        </button>
        <button mat-menu-item (click)="logout()">
          <mat-icon>exit_to_app</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </mat-toolbar>
    <a mat-icon-button routerLink="/main/home" class="back-button" *ngIf="!isHome">
      <mat-icon color="accent">arrow_back</mat-icon>
  </a>
    <main class="content" [class.mat-elevation-z4]="true" [@routeAnimations]="o && o.activatedRouteData && o.activatedRouteData['animation']">
      <router-outlet #o="outlet"></router-outlet>
    </main>
    <footer [class.mat-elevation-z2]="true">
      <h2>Sticky Footer !!</h2>
      <p>... with variable height</p>
    </footer>
  </mat-sidenav-content>
</mat-sidenav-container>
